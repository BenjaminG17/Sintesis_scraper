{
  "modules": [
    {
      "id": "municipio_generico",
      "url_pattern": "https://www.portaltransparencia.cl/PortalPdT/directorio-de-organismos-regulados/?org={org}",

      "actions": [],

      "scraping_actions": [
        {
          "type": "open_tipo_personal",
          "options": [
            {
              "value": "CONTRATA",
              "xpaths": [
                "//a[contains(translate(normalize-space(.), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), 'personal a contrata')]",
                "//a[contains(normalize-space(.), 'Personal a Contrata')]",
                "//a[contains(normalize-space(.), 'Personal a contrata')]"
              ]
            },
            {
              "value": "PLANTA",
              "xpaths": [
                "//a[contains(translate(normalize-space(.), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), 'personal de planta')]",
                "//a[contains(normalize-space(.), 'Personal de Planta')]",
                "//a[contains(normalize-space(.), 'Personal de planta')]",
                "//a[contains(normalize-space(.), 'Personal a Planta')]"
              ]
            }
          ]
        },    
        {
          "type": "select_area",
          "options": [
            {
              "value": "MUNICIPAL",
              "xpaths": [
                "//a[contains(@class,'tab-link') and normalize-space(.)='Municipal']",
                "//a[contains(@class,'tab-link') and normalize-space(.)='Municipalidad']",

                "//a[normalize-space(.)='Municipalidad']",
                "//a[normalize-space(.)='Municipal']",

                
                "//a[contains(normalize-space(.), 'Personal a Contrata Municipal')]",
                "//a[contains(normalize-space(.), 'Personal de Planta Municipal')]"
                
              ]
            }
          ]
        },
        {
          "type": "select_anio",
          "selector_button": "//button[contains(., 'AÃ±o')]",
          "options_from_settings": true
        },
        {
          "type": "select_mes",
          "selector_button": "//button[contains(., 'Mes')]",
          "options_from_settings": true
        },
        {
          "type": "download_csv",
          "selector_button": "//button[contains(., 'CSV') or contains(., 'Descargar')]"
        }
      ]
    }
  ]
}
